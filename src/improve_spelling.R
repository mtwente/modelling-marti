library(tidyverse)
library(here)

# Define your common OCR errors
ocr_corrections <- c(
  "steriger" = "stetiger",
  "zeigr" = "zeigt",
  "überflügek" = "überflügelt",
  "blühr" = "blüht",
  "Raden" = "Baden",
  "Hintererund" = "Hintergrund",
  "Wettineen" = "Wettingen",
  "akruell" = "aktuell",
  "Untersiggenrhal" = "Untersiggenthal",
  "isr" = "ist",
  "liehe" = "liche",
  "Fîier" = "Hier",
  "beonderen" = "besonderen",
  "Grosstadt" = "Grossstadt",
  "Zentralhureaus" = "Zentralbureaus",
  "Wohleil" = "Wohlen",
  "Elitwicklung" = "Entwicklung",
  "Talebenc" = "Talebene",
  "Auwachsen" = "Anwachsen",
  "berücksiehtigt" = "berücksichtigt",
  "müglichkeit" = "möglichkeit",
  "möglieh" = "möglich",
  "Vergleiehsobjekte" = "Vergleichsobjekte",
  "Kursteiinehmer" = "Kursteilnehmer",
  "Arbeitsmögliehkeiten" = "Arbeitsmöglichkeiten",
  "räumliehe" = "räumliche",
  "westlieh" = "westlich",
  "Betrieh" = "Betrieb",
  "häuerlichen" = "Bäuerlichen",
  "Betriehe" = "Betriebe",
  "beiPayerne" = "bei Payerne",
  "üietikon Zeh" = "Dietikon (Zch.)",
  "Seetalbalm" = "Seetalbahn",
  "Teilstüek" = "Teilstück",
  "Riehtungen" = "Richtungen",
  "Aushau-Etappe" = "Ausbau-Etappe",
  "forderunigen" = "forderungen",
  "Verkehrsvoluinen" = "Verkehrsvolumen",
  "sehlechten" = "schlechten",
  "Landivirtschaft" = "Landwirtschaft",
  "seinemStandpunkt" = "seinem Standpunkt",
  "Behauung" = "Bebauung",
  "hilligt" = "billigt",
  "Wohnbehauung" = "Wohnbebauung",
  "Wichlig-" = "Wichtig-",
  "Oerhaltenswürdlge" = "Erhaltenswürdige",
  "Acherbauländ" = "Ackerbauland",
  "frelgebenes" = "freigegebenes",
  "Industriszweige" = "Industriezweige",
  "Bauch von den Wohnzentren fortgetrageft" = "Rauch von den Wohnzentren fortgetragen",
  "gescnusslg" = "geschossige",
  "gtschossiQ" = "geschossige",
  "ilie" = "die",
  "Aushau" = "Ausbau",
  "Besiehende" = "Bestehende",
  "Oottlkon" = "Dottikon",
  "fiir" = "für",
  "rler" = "der",
  "zukünftigeil" = "zukünftigen",
  "Aichitekten" = "Architekten",
  "Fläehenbedarf" = "Flächenbedarf",
  "Erweiterungsmögliehkeiten" = "Erweiterungsmöglichkeiten",
  "rechtliehe" = "rechtliche",
  "Gemeindehehörden" = "Gemeindebehörden",
  "Kantonshaumeistern" = "Kantonsbaumeistern",
  "Anmeldeergehnis" = "Anmeldeergebnis",
  "Behürdemitglieder" = "Behördemitglieder",
  "telii" = "teln",
  "haureife" = "Baureife",
  "Aelinlich" = "Aehnlich",
  "Burckliardt" = "Burckhardt",
  ".venn" = "wenn",
  "hewusst" = "bewusst",
  "Ueherlegungen" = "Ueberlegungen",
  "iiher" = "über",
  "Ueberhlick" = "Ueberblick",
  "Bürgerhauten" = "Bürgerbauten",
  "Erdgesehoss" = "Erdgeschoss",
  "hezug" = "Bezug",
  "Sanierungsmassnalimen" = "Sanierungsmassnahmen",
  "Behauungsplan" = "Bebauungsplan",
  "hewog" = "bewog",
  "Holzbriicke" = "Holzbrücke",
  "Wolmquartiere" = "Wohnquartiere",
  "Bernouilli" = "Bernoulli",
  "Baureglemenl" = "Baureglement",
  "dié" = "die",
  "Ortsund" = "Orts und",
  "eimzelner" = "einzelner",
  "Erdgesehoss" = "Erdgeschoss",
  "rnuss" = "muss",
  "unci" = "und",
  "class" = "dass",
  "hewussten" = "bewussten",
  "inässig" = "mässig",
  "ohen lier" = "oben her",
  "Wohniung" = "Wohnung",
  "Lehen" = "Leben",
  "behandefit" = "behandelt",
  "Wohnimg" = "Wohnung",
  "Anlälsslich" = "Anlässlich",
  "grösserm" = "grösserem",
  "Aufhau" = "Aufbau",
  "unid" = "und",
  "Oeffentliclikeit" = "Oeffentlichkeit",
  "Irau" = "frau",
  "Beserven" = "Reserven",
  "plaziert" = "platziert",
  "anzuscliliessen" = "anzuschliessen",
  "einzubezielien" = "einzubeziehen",
  "Trppenhaus" = "Treppenhaus",
  "Genieindebeamten" = "Gemeindebeamten",
  "scliluss" = "schluss",
  "Scliluss" = "Schluss",
  "scliliesst" = "schliesst",
  "Vmngskommissioii" = "Planungskommission",
  "aesthetisclies" = "ästhetisches",
  "eon" = "von",
  "tind" = "und",
  "Pflicli-" = "Pflicht-",
  "verschlussen" = "verschliessen",
  "Gemeindereclmung" = "Gemeinderechnung",
  "Uebersiclit" = "Uebersicht",
  "lier" = "hier",
  "vonSeliul-" = "von Spiel-",
  "1er" = "der",
  "Rechtsgefiige" = "Rechtsgefüge",
  "Baubeschräiikungen" = "Baubeschränkungen",
  "Absclireibens" = "Abschreibens",
  "Wolin-" = "Wohn-",
  "liulu-" = "Indu-",
  "Wunschträum" = "Wunschtraum",
  "Absiebten" = "Absichten",
  "Riclitplan" = "Richtplan",
  "Riclitplanes" = "Richtplanes",
  "Riehtplan" = "Richtplan",
  "guteldeen" = "gute Ideen",
  "nalimen" = "nahmen",
  "Entwiekhingsvorschlägen" = "Entwicklungsvorschlägen",
  "Strasseiirauin" = "Strassenraum",
  "Wolinstrassen" = "Wohnstrassen",
  "solclier-" = "solcher-",
  "zidässig" = "zulässig",
  "isl" = "ist",
  "lie" = "die",
  "Ueberbauiung" = "Ueberbauung",
  "Liegensehaft" = "Liegenschaft",
  "Baulanduntlegung" = "Baulandumlegung",
  "geregeit" = "geregelt",
  "Baugesuebsverfabren" = "Baugesuchsverfahren",
  "Iiaugesuchsverfah ren" = "Baugesuchsverfahren",
  "Amtsscliuh-" = "Amtsschub-",
  " rti." = "",
  "Jalire" = "Jahre",
  "entscliloss" = "entschloss",
  "auftraggehenden" = "auftraggebenden",
  "heiastet" = "belastet",
  "Geineinden" = "Gemeinden",
  "durchgehrannt" = "durchgebrannt",
  "Region a Iplanungsgruppe" = "Regionalplanungsgruppe",
  "Aufsclduss" = "Aufschluss",
  "Aufscliluss" = "Aufschluss",
  "Gemeindeschreiher" = "Gemeindeschreiber",
  "l esten" = "besten",
  "Planungsgehiet" = "Planungsgebiet",
  "inuss" = "muss",
  "sehwil" = "Wohlenschwil",
  "Remetsehwil" = "Remetschwil",
  "heigetragen" = "beigetragen",
  "Teilprohlem" = "Teilproblem",
  "hei" = "bei",
  "Ergehnisse" = "Ergebnisse",
  "Originalerliebungsbogen" = "Originalerhebungsbogen",
  "nungsprohleme" = "nungsprobleme",
  "Hessen" = "lassen",
  "Verkehrszäliluug" = "Verkehrszählung",
  "scliliessen" = "schliessen",
  "hereinigt" = "bereinigt",
  "Flaacli" = "Flaach",
  "vorheiselien" = "vorbeisehen",
  "oberbeliörd-" = "oberbehörd-",
  "liclien" = "lichen",
  "wirklicli" = "wirklich",
  "Gemeindebaugeeetzgebung" = "Gemeindebaugesetzgebung",
  "Maßsah" = "Maßstab",
  "Oeffentliclikeit" = "Oeffentlichkeit",
  "Wohnbaulen" = "Wohnbauten",
  "A usgangslage" = "Ausgangslage",
  "Ennethaden" = "Ennetbaden",
  "eingesclinittenen" = "eingeschnittenen",
  "Kreuzlihergs" = "Kreuzlibergs",
  "Gebenstorferliornes" = "Gebenstorferhornes",
  "Neuenliof" = "Neuenhof",
  "Ohersiggenthal" = "Obersiggenthal",
  "Ortshürger" = "Ortsbürger",
  "Wintertbur" = "Winterthur",
  "Ölten" = "Olten",
  "Fislisbacli" = "Fislisbach",
  "Oberehrend ingen" = "Oberehrendingen",
  "Oberrolirdorf" = "Oberrohrdorf",
  "Grünin-" = "Grüningen",
  "lier-" = "her-",
  "Landestopograpliie" = "Landestopographie",
  "Berufstäl ige" = "Berufstätige",
  "Auftraggeher" = "Auftraggeber",
  "Planungsdurchfiihrung" = "Planungsdurchführung",
  "ibres" = "ihres",
  "echweiz." = "schweiz.",
  "Altstadtgebiele" = "Altstadtgebiete",
  "Montelioisy" = "Montchoisy",
  "Planverfass ern" = "Planverfassern",
  "lia" = "ha",
  "Eaux-V ives" = "Eaux-Vives",
  "Eaux Vives" = "Eaux-Vives",
  "gebliehen" = "geblieben",
  "Lehensstandards" = "Lebensstandards",
  "Industriehailungen" = "Industrieballungen",
  "Cheffield" = "Sheffield",
  "voral" = "vorab",
  "Behauungsund" = "Bebauungs- und",
  "Verfassungshestimmungen" = "Verfassungsbestimmungen",
  "Brückenhauten" = "Brückenbauten",
  "nacliAh-" = "nach Ab-",
  "Durclibruch" = "Durchbruch",
  "imbedingt" = "unbedingt",
  "Schiida" = "Schilda",
  "Fachhearbeiter" = "Fachbearbeiter",
  "kiind" = "kund",
  "aher" = "aber",
  "Obersiggental" = "Obersiggenthal",
  "Zwergbetriehe" = "Zwergbetriebe",
  "mögliclikeiten" = "möglichkeiten",
  "Ausnahmeparagraplien" = "Ausnahmeparagraphen",
  "Heiri" = "Heini",
  "Baumetlioden" = "Baumethoden",
  "Unerlässlicli" = "Unerlässlich",
  "Gesehossfläche" = "Geschossfläche",
  "Ausnütznngsziffer" = "Ausnützungsziffer",
  "IVutzunffskoefflzient" = "Nutzungskoeffizient",
  "Gundstiiekflaaie" = "Grundstückfläche",
  "Dichtezahlcn" = "Dichtezahlen",
  "Ausnützungshegrenzungen" = "Ausnützungsbegrenzungen",
  "Ueberhauungsmöglichkeiten" = "Ueberbauungsmöglichkeiten",
  "Cityhauten" = "Citybauten",
  "Scliutz-" = "Schutz-",
  "A uftrag" = "Auftrag",
  "Griinzone" = "Grünzone",
  "Imfeidstrasse" = "Imfeldstrasse",
  "zeitrauhende" = "zeitraubende",
  "vorfahrizierten" = "vorfabrizierten",
  "ünd" = "und",
  "Geschäftslehen" = "Geschäftsleben",
  "Ueherall" = "Ueberall",
  "Vergniigungs-" = "Vergnügungs-",
  "üher-" = "über-",
  "gebliehen" = "geblieben",
  "gängerverkelir" = "gängerverkehr",
  "helehte" = "belebte",
  "Fussgängerhereiche" = "Fussgängerbereiche",
  "Lühecks" = "Lübecks",
  "Grünaidagen" = "Grünanlagen",
  "Griinzug" = "Grünzug",
  "gebliehen" = "geblieben",
  "Gartenhauausstellung" = "Gartenbauausstellung",
  "Bioomen" = "Blomen",
  "prachtvoüe" = "prachtvolle",
  "einengrossen" = "einen grossen",
  "niitzungsziffer" = "nutzungsziffer",
  "aucli" = "auch",
  "Balinsystem" = "Bahnsystem",
  "ahfliessen" = "abfliessen",
  "hewusst" = "bewusst",
  "Riesengehilde" = "Riesengebilde",
  "hlühen" = "glühen",
  "häuerlichen" = "bäuerlichen",
  "hegehrten" = "begehrten",
  "hesser" = "besser",
  "ivar-" = "war-",
  "U-Balinen" = "U-Bahnen",
  "geschwiir-" = "geschwür-",
  "Eimvohner" = "Einwohner",
  "reicli" = "reich",
  "Vorstadthauern" = "Vorstadtbauern",
  "Verkehrs! auten" = "Verkehrsbauten",
  "Alhis" = "Albis",
  "Förch" = "Forch",
  "Reppiscli" = "Reppisch",
  "östschweiz" = "Ostschweiz",
  "verschlussen" = "verschliessen",
  "liässlicher" = "hässlicher",
  "begriisst" = "begrüsst",
  "Genieindekanzlei" = "Gemeindekanzlei",
  "liiess" = "hiess",
  "Drolifin-" = "Drohfinger",
  "Obwal-" = "Obwalden",
  "Absteilflächen" = "Abstellflächen",
  "spezieil" = "speziell",
  "Räuberiis" = "Räuberlis",
  "gemütUche" = "gemütliche",
  "bUeben" = "bleiben",
  "WUnsche" = "Wünsche",
  "übUchen" = "üblichen",
  "Möbelnund an Abstelltlache" = "Möbeln und and Abstellfläche",
  "Austattung" = "Ausstattung",
  "teUweise" = "teilweise",
  "Uesse" = "liesse",
  "BernerChalets" = "Berner Chalets",
  "ln" = "in",
  "WalUser" = "Walliser",
  "Blei als Wirtshaus-" = "Biel als Wirtshaus-",
  "Schwierigkelten" = "Schwierigkeiten",
  "Mad" = "Mai",
  "ZweiteUung" = "Zweiteilung",
  "MehrfamUienhaus" = "Mehrfamilienhaus",
  "verwirkUchen" = "verwirklichen",
  "vieUeicht" = "vielleicht",
  "TeUnehmer" = "Teilnehmer",
  "gesteUten" = "gestellten",
  "izur" = "zur",
  "erbUcken" = "erblicken",
  "geheüten" = "geheilten",
  "westschiweizerischen" = "westschweizerischen",
  "HüUe" = "Hülle",
  "gründUch" = "gründlich",
  "GegenteU" = "Gegenteil",
  "BodenpoUtik" = "Bodenpolitik",
  "umd" = "und",
  "weü" = "weil",
  "MögUchkeiten" = "Möglichkeiten",
  "MögUchkeit" = "Möglichkeit",
  "steUt" = "stellt",
  "vcurzunehmen" = "vorzunehmen",
  "bUde" = "bilde",
  "FeststeUung" = "Feststellung",
  "miser" = "unser",
  "Uess" = "liess",
  "öffentUchen" = "öffentlichen",
  "Uegt" = "liegt",
  "Wenngpsere BehörSi und Bachter" = "Wenn unsere Behörden und Richter",
  "urteUen, wilSWir" = "urteilen, wie wir",
  "ufetrzeugt" = "überzeugt",
  "Ubereln" = "Überein",
  "ZUrich" = "Zürich",
  "GrundstUckgrenze" = "Grundstückgrenze",
  "Erhöfififag" = "Erhöhung",
  "ausgebUdet" = "ausgebildet",
  "dalier" = "daher",
  "vorUegende" = "vorliegende",
  "Schneidergasse-Stadthausgasse-SpiegelgasEe" = "Schneidergasse Stadthausgasse Spiegelgasse",
  "Spiegelhot" = "Spiegelhof",
  "TeUnehmer" = "Teilnehmer",
  "mögUchst" = "möglichst",
  "Spalei.terg" = "Spalenberg",
  "Verfugung" = "Verfügung",
  "BUd" = "Bild",
  "SteUe," = "Stelle,",
  "OeffentUchkeit?" = "Oeffentlichkeit?",
  "gsisse" = "gasse",
  "Very ldung" = "Verbindung",
  "MOnzgässlein" = "Münzgässlein",
  "PJätze" = "Plätze",
  "Gefltigelmarkt" = "Geflügelmarkt",
  "wirannehmen" = "wir annehmen",
  "Axe" = "Achse",
  "Auffassimg" = "Auffassung",
  "Vergleiag" = "Vergleich",
  "Unset" = "Unsere",
  "pjelmehr" = "vielmehr",
  "Arbe g" = "Arbeit",
  "muas" = "muss",
  "eingerägjäS" = "eingereicht",
  "Waseerkirche" = "Wasserkirche",
  "Llmmaträume" = "Limmaträume",
  "HauptbBhnhof" = "Hauptbahnhof",
  "Walchebrüeke" = "Walchebrücke",
  "jjun" = "ein",
  "BUdern" = "Bildern",
  "freüich" = "freilich",
  "VoUgeschossen" = "Vollgeschossen",
  "VoUgeschosse" = "Vollgeschossen",
  "Vergleichsmöellehkeiten" = "Vergleichsmöglichkeiten",
  "dlel irma Globus" = "die Firma Globus",
  "Zuglufterscheinui" = "Zuglufterscheinung",
  "SiHgJektverfasser" = "Projektverfasser",
  "Gebäiudehöhe" = "Gebäudehöhe",
  "ilfigt" = "ist",
  "Warenauszüchnung" = "Warenauszeichnung",
  "höchSMornamental" = "höchstornamental",
  "bewerksteUigt" = "bewerkstelligt",
  "feuerpolizeUichen" = "feuerpolizeilichen",
  "Freüich" = "Freilich",
  "PubUkum" = "Publikum",
  "AbteUungen verteUt" = "Abteilungen verteilt",
  "KeUer" = "Keller",
  "wiU," = "will",
  "SteUung" = "Stellung",
  "Vorbüder" = "Vorbilder",
  "Lugaho" = "Lugano",
  "MeUorationsamtes" = "Meliorationsamtes",
  "WiUen," = "Willen,",
  "weü" = "weil",
  "GrosstadtbUdung" = "Grosstadtbildung",
  "sicb3sber" = "sich aber",
  "faUs" = "falls",
  "BUdung" = "Bildung",
  "PubUkation" = "Publikation",
  "DiskusSsn" = "Diskussion",
  "vorUegende" = "vorliegende",
  "aUer" = "aller",
  "ArcMteBtur-Zeitschrift" = "Architektur-Zeitschrift",
  "steUten" = "stellten",
  "ursprüngUch" = "ursprünglich",
  "gutbürgerUche" = "gutbürgerliche",
  "Erneuerimg" = "Erneuerung",
  "woüen" = "wollen",
  "Richtimg" = "Richtung",
  "unerbittüch verfochtehen" = "unerbittlich verfochtenen",
  "büligen" = "billigen",
  "zeitüche" = "zeitliche",
  "erfreuUch" = "erfreulich",
  "WirkUchkeit" = "Wirklichkeit",
  "Plätzehen" = "Plätzchen",
  "Slgristenhauses" = "Sigristenhaus",
  "Wonggng" = "Wohnung",
  "Sirweiterung" = "Erweiterung",
  "Jugendbort" = "Jugendhort",
  "mlteinzubeziehen" = "miteinzubeziehen",
  "Gebäullchkeiten" = "Gebäulichkeiten",
  "Umrlss" = "Umriss",
  "TJnterrlchtsräume" = "Unterrichtsräume",
  "Heillghüsli" = "Heilighüsli",
  "Dfirohbildung" = "Durchbildung",
  "degSBauten" = "der Bauten",
  "BericÖ" = "Bericht",
  "dlaiisinde" = "Gemeinde",
  "beziehungfslos" = "beziehungslos",
  "weltanschaumsher" = "weltanschaulicher",
  "dreiec" = "dreieck",
  "Stanaste" = "Standorte",
  "unterüessen" = "unterliessen",
  "nämpfeh" = "nämlich",
  "OberdoBastrasseSBitunstergasse" = "Oberdorfstrasse Münstergasse",
  "EläShenmasstab" = "Flächenmasstab",
  "Tugme" = "Türme",
  "rlngerdurchstich" = "Zähringerdurchstich",
  "inpner" = "immer",
  "VerkehrsfläenfliP" = "Verkehrsflächen",
  "Querstrœ" = "Querstrasse",
  "Baufluchtenbewirken" = "Bauflichten bewirken",
  "klemmasstäblichen" = "kleinmasstäblichen",
  "Uramabrucke" = "Uraniabrücke",
  "odeiuaber" = "oder aber",
  "Unterteilup" = "Unterteilung",
  "Flusstadt" = "Flussstadt",
  "FIuss" = "Fluss",
  "aufgeführjSWesentlich" = "aufgeführt. Wesentlich",
  "wolltejBLüf" = "wollte. Auf",
  "EntwiCTEiung" = "Entwicklung",
  "stäätebaulichen" = "städtebaulichen",
  "Innensrarat" = "Innenstadt",
  "auchdagegen" = "auch dagegen",
  "stehtvor" = "steht vor",
  "BergvonSchwierigkei-" = "Berg von Schwierigkeiten",
  "Bine EntvSBuung" = "Eine Entwicklung",
  "Hesse" = "liesse",
  "gjjäSitebauliche" = "städtebauliche",
  "Gulliverunter" = "Gulliver unter",
  "Betöhraster" = "Betonraster",
  "enfcMuEjen" = "entgegen",
  "Daä" = "Das",
  "wfcfL" = "wird",
  "fius" = "aus",
  "augjj" = "auch",
  "dôjjiç-rrund" = "den Grund",
  "quergelüEtet" = "quergelüftet",
  "gewöhnliehen" = "gewöhnlichen",
  "WascEEffehen" = "Waschküchen",
  "mangelhafterBeleuchtungund" = "mangelhafter Beleuchtung und",
  "inüblerWeise" = "in übler Weise",
  "Manhört" = "Man hört",
  "Baikonen" = "Balkonen",
  "zweifelsolne" = "zweifelsohne",
  "HanslMarti" = "",
  "Nachkriegsjähren" = "Nachkriegsjahren",
  "chulhäuser" = "Schulhäuser",
  "terkinden" = "Gelterkinden",
  "Sülffit" = "Südost",
  "ausschligsg" = "ausschliesslich",
  "a.uf" = "auf",
  "ErstaunliÄ" = "Erstaunlich",
  "bautecK schen" = "bautechnischen",
  "Tisehreihen" = "Tischreihen",
  "verwirkücht" = "verwirklicht",
  "isihd" = "sind"
  # Add more corrections as needed
)

# Define folders
input_folder <- here("data", "raw", "txt_cleaned")
output_folder <- here("data", "corrected")

# Create output folder if it doesn't exist
if (!dir.exists(output_folder)) {
  dir.create(output_folder, recursive = TRUE)
}

# Get all txt files
txt_files <- list.files(input_folder, pattern = "\\.txt$", full.names = TRUE)

# Function to correct OCR errors
correct_ocr <- function(txt_file) {
  text_vector <- readLines(txt_file, warn = FALSE)
  
  # Apply OCR corrections
  cleaned_text <- str_replace_all(text_vector, ocr_corrections)
  
  # Define output filename
  corrected_filename <- file.path(output_folder, basename(txt_file))
  
  # Write corrected text to a new file
  writeLines(cleaned_text, corrected_filename)
  
  message("Processed: ", basename(txt_file))
}

# Apply correction function to all files
lapply(txt_files, correct_ocr)

message("All files corrected successfully.")
